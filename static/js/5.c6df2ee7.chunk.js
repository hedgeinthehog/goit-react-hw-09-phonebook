(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[5],{204:function(e,t,n){e.exports={box:"ContactForm_box__2Es2u",input:"ContactForm_input__1PTHR",button:"ContactForm_button__3jIrC"}},205:function(e,t,n){e.exports={input:"Filter_input__3E42C"}},206:function(e,t,n){e.exports={listItem:"ContactList_listItem__1TWIF"}},207:function(e,t,n){"use strict";var r=n(208),o=n(209);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(0)),c=(0,r(n(211)).default)(a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=c},208:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},209:function(e,t,n){var r=n(210).default;function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var i=a?Object.getOwnPropertyDescriptor(e,c):null;i&&(i.get||i.set)?Object.defineProperty(n,c,i):n[c]=e[c]}return n.default=e,t&&t.set(e,n),n},e.exports.default=e.exports,e.exports.__esModule=!0},210:function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},211:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(42)},212:function(e,t,n){e.exports={formWrapper:"ContactsView_formWrapper__3YOBZ",contactsWrapper:"ContactsView_contactsWrapper__QXJoG",wrapper:"ContactsView_wrapper__1S7ge",title:"ContactsView_title__39uou"}},234:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return G}));var r=n(0),o=n(14),a=n(36),c=n.n(a);var i=n(73);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(s){o=!0,a=s}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}}(e,t)||Object(i.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=n(18),l=n(55),d=function(e){return e.contacts.filter},f={getIsLoading:function(e){return e.contacts.loading},getFilter:d,getFilteredContacts:Object(l.a)([function(e){return e.contacts.items},d],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))}))},b=n(64);c.a.defaults.baseURL="https://connections-api.herokuapp.com";var p={addContact:function(e,t){return function(n){var r={name:e,number:t};n(Object(u.b)()),c.a.post("/contacts",r).then((function(e){var t=e.data;return n(Object(u.c)(t))})).catch((function(e){n(Object(b.a)(e)),n(Object(u.a)({message:e.message,error:e.response.status}))}))}},deleteContact:function(e){return function(t,n){t(Object(u.e)()),c.a.delete("/contacts/".concat(e)).then((function(){t(Object(u.f)(e));var r=n();0===f.getFilteredContacts(r).length&&t(Object(u.j)(""))})).catch((function(e){t(Object(b.a)(e)),t(Object(u.d)({message:e.message,error:e.response.status}))}))}},fetchContacts:function(e){return function(t){t(Object(u.h)()),c.a.get("/contacts",e).then((function(e){var n=e.data;return t(Object(u.i)(n))})).catch((function(e){c.a.isCancel(e)||(t(Object(b.a)(e)),t(Object(u.g)({message:e.message,error:e.response.status})))}))}}},m=n(204),j=n.n(m),v=n(156),O=n(228),g=n(213),h=n(2),x=function(){var e=s(Object(r.useState)(""),2),t=e[0],n=e[1],a=s(Object(r.useState)(""),2),c=a[0],i=a[1],u=Object(o.c)(),l=function(e){var t=e.target,r=t.name,o=t.value;switch(r){case"name":n(o);break;case"number":i(o);break;default:console.log("Field with name ".concat(r," is not being supported"))}},d=function(){n(""),i("")};return Object(h.jsx)(g.a,{className:j.a.box,children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u(p.addContact(t,c)),d()},children:[Object(h.jsx)(O.a,{type:"text",name:"name",value:t,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0,onChange:l,label:"Name",className:j.a.input}),Object(h.jsx)(O.a,{type:"tel",name:"number",value:c,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0,onChange:l,label:"Number",className:j.a.input}),Object(h.jsx)(v.a,{type:"submit",className:j.a.button,children:"Add contact"})]})})},y=n(205),C=n.n(y),_=function(){var e=Object(o.d)(f.getFilter),t=Object(o.c)(),n=Object(r.useCallback)((function(e){t(u.j(e.target.value))}),[t]);return Object(h.jsx)(g.a,{className:C.a.box,children:Object(h.jsx)(O.a,{name:"filter",value:e,onChange:n,label:"Find contacts by name",className:C.a.input})})},w=n(206),k=n.n(w),N=n(232),I=n(1),F=n(4),S=(n(5),n(8)),M=n(11),P=n(86),E=n(174),A=n(31),V=n(188),L=n(22),W="undefined"===typeof window?r.useEffect:r.useLayoutEffect,T=r.forwardRef((function(e,t){var n=e.alignItems,o=void 0===n?"center":n,a=e.autoFocus,c=void 0!==a&&a,i=e.button,s=void 0!==i&&i,u=e.children,l=e.classes,d=e.className,f=e.component,b=e.ContainerComponent,p=void 0===b?"li":b,m=e.ContainerProps,j=(m=void 0===m?{}:m).className,v=Object(F.a)(m,["className"]),O=e.dense,g=void 0!==O&&O,h=e.disabled,x=void 0!==h&&h,y=e.disableGutters,C=void 0!==y&&y,_=e.divider,w=void 0!==_&&_,k=e.focusVisibleClassName,N=e.selected,M=void 0!==N&&N,T=Object(F.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),z=r.useContext(V.a),D={dense:g||z.dense||!1,alignItems:o},R=r.useRef(null);W((function(){c&&R.current&&R.current.focus()}),[c]);var B=r.Children.toArray(u),$=B.length&&Object(E.a)(B[B.length-1],["ListItemSecondaryAction"]),J=r.useCallback((function(e){R.current=L.findDOMNode(e)}),[]),Z=Object(A.a)(J,t),q=Object(I.a)({className:Object(S.a)(l.root,d,D.dense&&l.dense,!C&&l.gutters,w&&l.divider,x&&l.disabled,s&&l.button,"center"!==o&&l.alignItemsFlexStart,$&&l.secondaryAction,M&&l.selected),disabled:x},T),G=f||"li";return s&&(q.component=f||"div",q.focusVisibleClassName=Object(S.a)(l.focusVisible,k),G=P.a),$?(G=q.component||f?G:"div","li"===p&&("li"===G?G="div":"li"===q.component&&(q.component="div")),r.createElement(V.a.Provider,{value:D},r.createElement(p,Object(I.a)({className:Object(S.a)(l.container,j),ref:Z},v),r.createElement(G,q,B),B.pop()))):r.createElement(V.a.Provider,{value:D},r.createElement(G,Object(I.a)({ref:Z},q),B))})),z=Object(M.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(T),D=n(159),R=n(207),B=n.n(R),$=function(){var e=Object(o.d)(f.getFilteredContacts),t=Object(o.c)(),n=Object(r.useCallback)((function(e){t(p.deleteContact(e.currentTarget.name))}),[t]);return Object(h.jsx)(N.a,{children:e.map((function(e){var t=e.id,r=e.name,o=e.number;return Object(h.jsxs)(z,{className:k.a.listItem,children:[r," ",o,Object(h.jsx)(D.a,{type:"button","aria-label":"delete",name:t,onClick:n,className:k.a.deleteBtn,children:Object(h.jsx)(B.a,{})})]},t)}))})},J=n(212),Z=n.n(J),q=n(153),G=function(){var e=Object(o.d)(f.getIsLoading),t=Object(o.c)();return Object(r.useEffect)((function(){var e=c.a.CancelToken.source();return t(p.fetchContacts({cancelToken:e.token})),function(){e.cancel()}}),[t]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{className:Z.a.title,children:"Phonebook"}),Object(h.jsxs)("div",{className:Z.a.wrapper,children:[Object(h.jsx)("div",{className:Z.a.formWrapper,children:Object(h.jsx)(x,{})}),Object(h.jsxs)("div",{className:Z.a.contactsWrapper,children:[Object(h.jsx)("h2",{children:"Contacts"}),Object(h.jsx)(_,{}),e&&Object(h.jsx)(q.a,{}),Object(h.jsx)($,{})]})]})]})}},42:function(e,t,n){"use strict";n.r(t),n.d(t,"capitalize",(function(){return r.a})),n.d(t,"createChainedFunction",(function(){return o.a})),n.d(t,"createSvgIcon",(function(){return a.a})),n.d(t,"debounce",(function(){return c.a})),n.d(t,"deprecatedPropType",(function(){return i})),n.d(t,"isMuiElement",(function(){return s.a})),n.d(t,"ownerDocument",(function(){return u.a})),n.d(t,"ownerWindow",(function(){return l.a})),n.d(t,"requirePropFactory",(function(){return d})),n.d(t,"setRef",(function(){return f.a})),n.d(t,"unsupportedProp",(function(){return b})),n.d(t,"useControlled",(function(){return p.a})),n.d(t,"useEventCallback",(function(){return m.a})),n.d(t,"useForkRef",(function(){return j.a})),n.d(t,"unstable_useId",(function(){return v.a})),n.d(t,"useIsFocusVisible",(function(){return O.a}));var r=n(9),o=n(62),a=n(128),c=n(173);function i(e,t){return function(){return null}}var s=n(174),u=n(49),l=n(175);function d(e){return function(){return null}}var f=n(61);function b(e,t,n,r,o){return null}var p=n(171),m=n(25),j=n(31),v=n(182),O=n(72)}}]);
//# sourceMappingURL=5.c6df2ee7.chunk.js.map